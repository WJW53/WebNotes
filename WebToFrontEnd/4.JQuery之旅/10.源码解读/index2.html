<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <script src="jquery_extend.js"></script>

    <script>

        var obj1 = {
            name : 'obj1'
        }

        var obj2 = {
            name : 'obj2',
            sex : 'female',
            son : {
                name : 'obj2son',
            },
            arr : [1]
            // arr: []
        }
    

        var obj3 = {
            name : 'obj3',
            sex : 'male',
            son : {
                name : 'obj3son',
                age : 1,
                grandSon : {}
            },
            arr : [1,2,3]
        }
        //在源码里
        //clone = src;//没关系,反正最后还是变了,不影响的.只是中间层影响,但我们也没使用



        //1.扩展插件  $.extend = $.fn.extend({a:function(){}});//只能有1个参数,json对象
            //此时,target = $ / $.fn  其实是 this !!谁调用的谁就是我们想操作的目标
        //2.浅层克隆  $.extend(obj1,obj2,obj3...);             //至少2个参数
            //此时,target = arguments[0]
        //3.深度克隆  $.extend(true,obj1,obj2,obj3...);        //至少3个参数
            //此时,target = arguments[1]

        //never-ending loop 循环引用 : 永不结束的循环

        // var a = {
        //     son:b,
        // };
        // var b = {
        //     son:a,
        // };
        
        // console.log(a,b);//{son:undefined}


        // var a = {

        // };
        // var b = {
        //     son : a,
        // };

        // // a.son = b;
// //一直点son属性,可以点一辈子。  不是一个良好的编程习惯

        // $.extend(a,b);
        // console.log(a);//{}     因为人家做了处理,防止了循环引用
        


        //jQuery.fn.extend  -->>  $().extend  -->> jQuery.prototype.extend

        // $.extend = function(){
        //     //target 是 我们要操作的目标
            
        //     if(){
        //         // 判断是否是深度克隆

        //         // i = 2
        //     }
        //     if(){
        //         //保证目标参数的合法性
        //     }
        //     if(){
        //         // 如果是插件扩展,target=this
        //         // i = 0
        //     }
        // }

        

    </script>
</body>
</html>