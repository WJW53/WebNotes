<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    

    <script>
        function asd(data){
            console.log('Dn');
            console.log(data);  
        }
    </script>

    <!-- <script src="https://www.baidu.com"> -->
    <script src="http://developer.duyiedu.com/edu/testJsonp?callback=asd">
    </script>

    <script>

        //因为我想从一个接口获取一个数据
        //但是这个接口和当前页面不是同源的.(也就是跨域了)
        //但是这个借口是支持JSONP的

        //script标签,有src属性,所以可以发出网络请求
        //script标签,虽然可以引用其他域的资源,浏览器不限制.
        //但是.浏览器会将返回的内容,作为JS代码执行.

        //asd({status: "ok", msg: "Hello! There is DuYi education!"})
        //相当于调用了asd方法,传入了一个JSON对象作为参数


        //JSONP原理:
        //1. 判断请求与当前页面的域,是否同源,如果同源则发送正常的ajax,就没有跨域的事情
        //2. 如果不同源,会生成一个script标签
        //3. 再生成一个随机的callback名字,还得创建一个这个callback的名字的方法
        //4. 设置script标签的src,设置为要请求的接口
        //5. 将callback作为参数拼接在后面(前面有个?)
        //===============以上是前端部分=================
        //6. 后端接收到请求后,开始准备要返回的数据
        //7. 后端拼接数据,将要返回的数据用callback的值和括号包裹起来
        //      例如: callback=asd123456,要返回的数据为{"a":1,"b":2}
        //      就要拼接为: asd123456({"a":1, "b":2});
        //8. 将内容返回
        //===============以上是后端部分================
        //9. 浏览器接收到内容,会当作JS代码来执行
        //10. 从而执行 名为ads123456 的方法
        //这样一来,我们就接收到了后端返回给我们的对象.



    </script>

</body>
</html>