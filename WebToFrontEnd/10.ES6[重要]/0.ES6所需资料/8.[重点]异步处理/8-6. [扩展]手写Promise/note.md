# 手写Promise

- 很重要啊,可能面试就让我手写了

不要急,一点点按功能分步写,一步步实现


1. 立即执行函数避免污染变量空间
2. return一个class MyPromise
3. const定义不会改变的变量,Symbol()用于创建不想让外部访问的属性名
4. 提取方法的公共代码,重新创造一个函数


##  状态控制

先写未决阶段,然后未决阶段根据方法名改变状态,传来数据,并且rejected时要先捕获错误

## 后续处理

有两个作业队列->两个数组(外面不能访问),
1. 什么时候往这两个数组里面加呢？ -> 调用then/catch方法时就加进去.

但是它们本来是运行在微队列的,所以我们模拟的话只能用setTimeout了, nodejs现在还不会

- 如果已经是resolved状态,立即执行;不是才会加到数组里
- 

2. 作业队列里什么时候执行呢？  ->  状态改变后,就会执行相应队列中的所有函数

## 串联Promise

1. 返回一个新的Promise(状态、数据要对应好)


## 其他API


