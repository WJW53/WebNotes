# 参考线-深入理解字体

> 很复杂，很奇妙，要好好学！！！记得看PPT！

涉及CSS属性：font-size、line-height、vertical-align、font-family等

## 文字

- 文字是通过一些**文字制作软件制作**的，比如：fontforge

> 制作文字时，会有几根参考线。不同的文字类型，参考线不一样。同一种文字类型，参考线一致。

## font-size

字体大小，设置的是文字的相对大小。所以我们调整的都是相对大小

**暂时不考虑宽度，只考虑高度**

- 当时的活字印刷术就是根据相对大小来的
文字的相对大小：1000、2048(比如Consolas、Arail字体)、1024

- *文字顶线到底线的距离是文字的实际大小(称作：content-area,内容区)。我们设置的是相对大小，实际大小是间接处理的*
- 行盒的背景，覆盖content-area

## 行高

顶线向上延伸的空间 和 底线向下延伸的空间，两个空间相等。 该空间叫做gap（空隙）

**gap默认情况下是字体设计者决定的**

top到bottom（PPT中）,叫做virtual-area（叫做虚拟区，往往大于内容区，但不总是这样）

行高line-height,就是virtual-area

- line-height: normal ,使用默认值时，文字就会使用默认的gap，这样就不会出现行与行重叠的问题   

> 文字一定是出现在一行的最中间                  **错，取决于文字设计者**
> content-area一定出现在virtual-area的中间     **对，因为上下的line gap大小相等**
> 所以有些字体，行与行之间必定出现一些空隙，除非你把行高设置为与之对应的字体实际大小，但一般来说做不到，因为你不知道设计者是如何设计字体的。不知道的情况下，line-height: normal 就是最好的选择.  除非找到设计字体的原始设计稿

## vertical-align属性(复杂)

- 决定参考线的元素：font-size、line-height、font-family     这三个样式是文字的必备样式,其他样式可以没有
- 文字一定在行盒里。例：<p>M</p>  即便M在p元素中，但M仍然是在行盒里的（由于参考线 --> 匿名行盒）。

> 一个元素如果其子元素出现行盒，则该元素内部也会出现参考线

- vertical-align: baseline      表示该元素的基线与父元素的基线对齐(这也是默认值)
- vertical-align: super         表示该元素的基线与父元素的上基线对齐
- vertical-align: sub           表示该元素的基线与父元素的下基线对齐
- vertical-align: text-top      表示该元素的virtual-area的顶边(最上面那根)，对齐父元素的text-top(上基线)
- vertical-align: text-bottom   表示该元素的virtual-area的底边，对齐父元素的text-bottom(下基线)
- vertical-align: top           表示该元素的virtual-area的顶边，对齐line-box的顶边
- vertical-align: bottom        表示该元素的virtual-area的底边，对齐line-box的底边
- vertical-align: middle        表示该元素的中线(content-area的一半)，与父元素的X字母的高度的一半位置对齐

> 行盒组合起来，可以形成多行，形成多行之后，每一行的区域叫做: line-box
**line-box的顶边 是该行内所有行盒最高顶边，底边是该行内所有行盒最低底边。**

- 行盒: inline-box
- 瞎起一个名字，行框: line-box

- 实际上，一个元素的实际占用高度(高度自动)，高度的计算通过line-box计算

1. vertical-align设置**数值**的话，是相对于基线的偏移量。向上为正数，向下为负数
2. 设置**百分比**的话，是相对于自身virtual-area的高度

line-box是承载内容的必要条件，有行框才能显示内容。以下情况不生成行框：

1. 某元素内部没有任何行盒(不好演示)
2. 某元素字体大小为0(比如p元素),这样即便子元素设置了字体大小也不会显示


## 可替换元素和行块盒的基线

可替换元素：

1. 图片：基线位置位于**图片的下外边距**
2. 表单元素：基线位置在**内容底边**

行块盒：

1. 行块盒的最后一行有行框line-box,用**最后一行的基线作为整个行块盒的基线**
2. 若 行块盒内部(没有文字)没有行盒，则**使用下外边距作为基线**


# 细节、坑 远远没有结束！这一章，只是为了告诉自己，世界很大，要随时保持一颗谦卑之心，敬畏之心！