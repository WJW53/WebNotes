# 闻海搜索
本文描述皆为项目在服务器运行过后的当天写下的一点随笔。

该项目是一个搜索引擎，前后端分离，本人负责前端及少量部分后端处理。

实现功能分类：文本搜索，上传txt文件返回文档（一个网页就是一个文档）相似度Top10，上传图片返回图片相似度Top50，以及问答系统

不加App.vue，共八个功能组件

## 仿百度（样式）

主路由组件就是home，而且搜索那一栏，始终都在-->fixed

然后点击每个按钮就添加一个路由组件的视图显示

项目不是企业级那么大，故用不着Vuex，故技术栈利用HTML + CSS + JS + Vue + VueRouter（移除） + 网络

但是后来写着写着发现，自己的组件也不算少了，总在控制属性控制通信，着实费劲，没辙

## 主要布局(页面级)

### 网页区域(含热榜)

仿照百度，

### 上传txt文档区域

可以和网页区域大部分共用一个组件，就是得去掉关键词高亮以及添加类别标签等细节判断处理

### 图片区域

图片预览、图片相似度Top50瀑布流显示，以及图片的放大缩小，总之来点css效果吧

### 问答区域

纵向三栏布局，提问，具体描述，提交过后，有个渐进的动画，显示第三栏的后端数据


## 主要功能

### 跨域请求（字符串、图片、文件）

axios配合FileReader对象、FormData对象，将每个请求回来的数据经过处理放入页面中

### 路由跳转
由于我路由尚且没有学完，时间也不够了，所以最后把路由的东西删了。

再后来发现，。。当初一早使用路由组件就行啊，不写成普通组件，当然这都是后话了

### 图片瀑布流
后端没给height、weight，所以本人用了图片预加载/懒加载，然后。。

### 分页组件

个人认为我这个分页组件比较好，功能比较齐全，后端没传当前页码总共页码和页面数据长度等，所以自己处理了数据，更换页面大小、跳转前一页后一页

### 关键词高亮显示

自己对数据处理一下即可

## 主要细节

### 组件间的通信，挺烦的，之后把Vue-Router和Vuex弄明白，以后用这俩写

### 很多地方都需要先判断下数据是否存在是否列表为,避免最初没有数据的时候控制台里会有警告/报错

### 容错处理，后端没处理好，直接报错，所以我这里得处理一下了

### css样式切换，特效，有的地方边框外边有个box-shadow吧

### 注意利用::before和::after，:before、:after

### 上锁，避免资源在还没过来的时候重复请求

### 回到顶部

### inputValue改变就实时请求百度联想搜索接口;实时请求后端爬取的百度热榜接口

### 图片的预加载与懒加载+瀑布流


## 总结

前后端的配合是难点，前端的需求、逻辑、设计理念层面的东西，要考虑的细节很多。

前后端最终要部署到服务器上的话，之前若没项目配置好，也是会出问题的，部署会失败。

嗨，继续加油吧。