# 重源码-bind模拟实现

- [JS] 先bind后new，this的指向
https://www.jianshu.com/p/69b1c600300d

## bind()方法
- bind() 方法创建一个新的函数，在 bind() 被调用时，这个新函数的 this 被指定为 bind() 的第一个参数，而其余参数将作为新函数的参数，供调用时使用。

### 语法

- function.bind(thisArg[, arg1[, arg2[, ...]]])

### 参数

1. thisArg
调用绑定函数时作为 this 参数传递给目标函数的值。 如果使用new运算符构造绑定函数，则忽略该值。*当使用 bind 在 setTimeout 中创建一个函数（作为回调提供）时，作为 thisArg 传递的任何原始值都将转换为 object。*如果 bind 函数的参数列表为空，执行作用域的 this 将被视为新函数的 thisArg。

2. arg1, arg2, ...
当目标函数被调用时，被预置入绑定函数的参数列表中的参数。

### 返回值

*返回一个原函数的拷贝,就是返回一个新函数*，并拥有指定的 this 值和初始参数。

### 总结bind功能

```js
//      function A(){

        // }
        // var o = {};
        // var x = 1,
        //     y = 2,
        //     z = 3;
        // var B = A.bind(o,x,y);
        // B(z);

        //总结:
        //1. 函数A调用bind方法时，需要传递的参数o,x,y,z,...
        //2. 返回新的函数B
        //3. 函数B在执行的时候,具体的功能实际上还是使用A的功能,只不过是this指向变为了o
        //4. 函数B在执行的时候,传递的参数,会拼接到x,y,z的后面,一并在内部传递给A执行！
        //5. 当你再new B() 时,其构造函数依旧是A,而且o不会起到任何作用,但是后面的参数起作用
```

## 模拟实现bind

### 铺垫

apply() 方法调用一个具有给定this值的函数，以及作为一个数组（或类似数组对象）提供的参数。

*注意：call()方法的作用和 apply() 方法类似，区别就是call()方法接受的是参数列表，而apply()方法接受的是一个参数数组。function.call(thisArg, arg1, arg2, ...)*